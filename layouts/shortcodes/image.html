{{ $u := urls.Parse (.Get "src") }}
{{ $src := $u.String }} <!-- src-Eintrag übernehmen für relativen Link -->
{{ $link := $.Page.Parent.RelPermalink }} <!-- erzeugt den Link zur übergeordneten Section -->
{{ $caption := $.Get "caption" }}
<figure>
    {{ if hasSuffix (.Get "src") "svg" }}
        <img src="{{ $link }}{{ $src }}" decoding="async" fetchpriority="auto" loading="lazy" alt="{{ $caption }}" class="markdown-svg">
    {{ else }}
        <img src="{{ $link }}{{ $src }}" decoding="async" loading="lazy" alt="{{ $caption }}">
    {{ end }}
    {{ if .Get "caption" }}
        <figcaption>
            <p>{{ .Get "caption" }}</p>
        </figcaption>
    {{ end }}
</figure>